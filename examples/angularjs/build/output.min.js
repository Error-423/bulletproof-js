/*! angularjs 2014-11-17 */
angular.module("todomvc",["ngRoute"]).config(function(a){"use strict";a.when("/",{controller:"TodoCtrl",templateUrl:"todomvc-index.html"}).when("/:status",{controller:"TodoCtrl",templateUrl:"todomvc-index.html"}).otherwise({redirectTo:"/"})}),angular.module("todomvc").controller("TodoCtrl",function(a,b,c,d){"use strict";var e=a.todos=d.get();a.newTodo="",a.editedTodo=null,a.$watch("todos",function(b,f){a.remainingCount=c("filter")(e,{completed:!1}).length,a.completedCount=e.length-a.remainingCount,a.allChecked=!a.remainingCount,b!==f&&d.put(e)},!0),a.$on("$routeChangeSuccess",function(){var c=a.status=b.status||"";a.statusFilter="active"===c?{completed:!1}:"completed"===c?{completed:!0}:null}),a.addTodo=function(){var b=a.newTodo.trim();b.length&&(e.push({title:b,completed:!1}),a.newTodo="")},a.editTodo=function(b){a.editedTodo=b,a.originalTodo=angular.extend({},b)},a.doneEditing=function(b){a.editedTodo=null,b.title=b.title.trim(),b.title||a.removeTodo(b)},a.revertEditing=function(b){e[e.indexOf(b)]=a.originalTodo,a.doneEditing(a.originalTodo)},a.removeTodo=function(a){e.splice(e.indexOf(a),1)},a.clearCompletedTodos=function(){a.todos=e=e.filter(function(a){return!a.completed})},a.markAll=function(a){e.forEach(function(b){b.completed=!a})}}),angular.module("todomvc").directive("todoEscape",function(){"use strict";var a=27;return function(b,c,d){c.bind("keydown",function(c){c.keyCode===a&&b.$apply(d.todoEscape)})}}),angular.module("todomvc").directive("todoFocus",function(a){"use strict";return function(b,c,d){b.$watch(d.todoFocus,function(b){b&&a(function(){c[0].focus()},0,!1)})}}),angular.module("todomvc").factory("todoStorage",function(){"use strict";var a="todos-angularjs";return{get:function(){return JSON.parse(localStorage.getItem(a)||"[]")},put:function(b){localStorage.setItem(a,JSON.stringify(b))}}});